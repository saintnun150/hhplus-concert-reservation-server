## 회고록

----

이번 과제는 아키텍처 설계, 동시성 제어, TDD 방법론에 대해 배운 내용을 콘서트 예약 시스템에 적용하는 과제였다.   
이전까지는 챕터 1에서 도메인 한두 개를 가지고 위 개념들을 적용해봤기 때문에 상대적으로 난이도가 높다고 느끼지 않았다.   
그러나 이번 과제는 많이 달랐던 것 같다.   
3~4개의 도메인으로 구성된 시스템에서, 그 안에서도 여러 세부 도메인들이 존재하다 보니 훨씬 더 복잡하게 느껴졌다.    
테스트 코드를 작성하면서 처음으로 돌아가야 하는 상황이 빈번했고, 한 도메인을 완성했다고 생각했지만 Facade에서 여러 도메인을 연계하여 로직을 작성할 때 어려움이 배가되었다.   
여러 원인이 있겠지만 가장 큰 이유는 요구사항 분석이 충분하지 않아 시퀀스 다이어그램, API 흐름 등에서 허점이 많았기 때문이라고 생각한다.

또 다른 문제는 클린 아키텍처 구조를 잡을 때 JPA 도메인 객체와 POJO(Plain Old Java Object)를 어떻게 연결해야 하는지에 대한 고민이었다.    
처음에는 반복되는 코드들이 많았고, 예외 처리나 유효성 검사 부분이 의식의 흐름대로 작성되어 도메인 객체와 JPA 엔티티 사이에 파편화가 발생했다.    
결국, JPA 엔티티를 도메인 모델로 사용하는 방식으로 정리했는데, 이 부분은 조금 아쉽게 느껴진다.    
아직 클린 아키텍처에서의 명확한 패키지 구조나 도메인 파편화에 대한 감이 잡히지 않은 것 같다.    
특히, 도메인의 흐름을 파악하는 것이 어렵기 때문에 파편화가 제대로 이뤄지지 않았다고 생각한다.    
이 부분은 코드를 작성하기 전에 충분히 설계를 반복하고 도메인 흐름을 이해하는 과정을 거친다면 점차 나아질 것으로 기대한다.

## 맺음말

시간 관리가 쉽지 않았던 과제였다. 대부분의 사람들은 같은 조건 속에서 과제를 진행하지만, 퇴근 후 과제를 하다 보니 집중력이 떨어졌고 시간은 더욱 길어졌다.   
밤을 새운 적도 여러 번 있었다. 그럼에도 불구하고 항해를 시작하기 전의 나와 비교해보면 매일 조금씩 더 나은 방향으로 나아가고 있다고 느낀다.   
하루하루 열심히 살고 있다는 생각에 ``오늘도 나는 행복하다.``

---